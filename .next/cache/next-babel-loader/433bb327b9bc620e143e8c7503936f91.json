{"ast":null,"code":"var _jsxFileName = \"/Users/rodrigosalmeron/Sites/deepfuture/components/NewsletterPopup.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styled from \"styled-components\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Cross from \"public/assets/img/layout/cross.svg\";\nimport MailchimpSubscribe from \"react-mailchimp-subscribe\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nconst url = \"https://studio.us19.list-manage.com/subscribe/post?u=c9d7bbb792de4cdbe363fad75&amp;id=434dbf9f3b\";\nconst isEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nconst CustomForm = ({\n  status,\n  message,\n  onValidated\n}) => {\n  const {\n    0: displayMessage,\n    1: setMessage\n  } = useState(false);\n  const {\n    0: showMessage,\n    1: setShowMessage\n  } = useState(false);\n  let email, name, lastname;\n\n  const submit = () => {\n    if (!name.value) {\n      setShowMessage(true), setMessage(\"Ingresa tu nombre\");\n    } else if (!lastname.value) {\n      setShowMessage(true), setMessage(\"Ingresa tu apellido\");\n    } else if (!email.value) {\n      setShowMessage(true), setMessage(\"Ingresa tu email\");\n    } else if (!isEmail.test(email.value)) {\n      setShowMessage(true), setMessage(\"Email en formato incorrecto\");\n    } else {\n      setShowMessage(false), onValidated({\n        EMAIL: email.value,\n        FNAME: name.value,\n        FLASTNAME: lastname.value\n      });\n    }\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"suscr\\xEDbete y\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }), \"te actualizamos\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Recibe un correo cada vez que publiquemos un cap\\xEDtulo nuevo.\"), status === \"sending\" && __jsx(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 32\n    }\n  }, \"Enviando...\"), status === \"error\" && __jsx(Message, {\n    error: true,\n    dangerouslySetInnerHTML: {\n      __html: message\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }), showMessage ? __jsx(Message, {\n    error: true,\n    dangerouslySetInnerHTML: {\n      __html: displayMessage\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }) : null, status === \"success\" && __jsx(Message, {\n    success: true,\n    dangerouslySetInnerHTML: {\n      __html: message\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), status !== \"success\" && __jsx(React.Fragment, null, __jsx(\"input\", {\n    ref: node => name = node,\n    type: \"text\",\n    placeholder: \"nombre\",\n    id: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"nombre\"), __jsx(\"input\", {\n    ref: node => lastname = node,\n    type: \"text\",\n    placeholder: \"apellido\",\n    id: \"lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"last name\"), __jsx(\"input\", {\n    ref: node => email = node,\n    type: \"email\",\n    placeholder: \"email\",\n    id: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"email\"), __jsx(Button, {\n    onClick: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"suscribirme\")));\n};\n\nconst NewsletterPopup = () => {\n  const {\n    0: showPopup,\n    1: setShowPopup\n  } = useState(false);\n  useEffect(() => {\n    let timer1 = setTimeout(() => popupShow(), 10000);\n    return () => {\n      clearTimeout(timer1);\n    };\n  }, []);\n\n  const popupShow = () => {\n    // Disable scroll\n    const targetElement = document.querySelector(\"#NewsletterPopup\"); //dummy\n\n    disableBodyScroll(targetElement);\n    setShowPopup(true);\n  };\n\n  const unlockScreen = () => {\n    const targetElement = document.querySelector(\"#NewsletterPopup\"); //dummy\n\n    enableBodyScroll(targetElement);\n    setShowPopup(false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Wrapper, {\n    clickable: showPopup,\n    id: \"NewsletterPopup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, __jsx(Border, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, __jsx(MailchimpSubscribe, {\n    url: url,\n    render: ({\n      subscribe,\n      status,\n      message\n    }) => __jsx(CustomForm, {\n      status: status,\n      message: message,\n      onValidated: formData => subscribe(formData),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }), __jsx(CrossContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, __jsx(Cross, {\n    onClick: unlockScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  })))), __jsx(Background, {\n    visible: showPopup,\n    onClick: unlockScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default NewsletterPopup;\nconst Background = styled.div`\n  background-color: ${props => props.theme.colors.background};\n  opacity: ${props => props.visible ? 0.6 : 0};\n  position: fixed;\n  pointer-events: ${props => props.visible ? \"auto\" : \"none\"};\n  left: 0;\n  bottom: 0;\n  right: 0;\n  top: 0;\n  z-index: 13;\n  transition: opacity 0.4s ease;\n`;\nconst Message = styled.div`\n  color: ${props => props.error ? props.theme.colors.error : props.success ? props.theme.colors.success : props.theme.colors.accent};\n  font-size: ${props => props.success ? \"1.8rem\" : \"1.5rem\"};\n  padding-bottom: 5px;\n  @media (max-width: 600px), (max-height: 450px) {\n    font-size: 1.5rem;\n  }\n`;\nconst Border = styled.div`\n  border: ${props => props.theme.stroke} solid\n    ${props => props.theme.colors.foreground};\n  background-color: ${props => props.theme.colors.background};\n  padding: 10% 15% 14% 15%;\n  @media (max-width: 380px) {\n    padding: 10% 10% 14% 10%;\n  }\n`;\nconst Button = styled.button`\n  padding: 14px 0%;\n  margin-top: 5px;\n  text-align: center;\n  width: 100%;\n  background-color: ${props => props.theme.colors.accent};\n  color: ${props => props.theme.colors.foreground};\n  border: 0;\n  font-weight: 100;\n  font-size: 1.8rem;\n  cursor: pointer;\n  transition: 0.3s ease all;\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      background-color: #27ae60;\n      color: ${props => props.theme.colors.background};\n      span {\n        background-size: 0 0;\n      }\n    }\n  }\n`;\nconst CrossContainer = styled.div`\n  width: 50px;\n  height: 50px;\n  padding: 12px;\n  position: absolute;\n  top: 3%;\n  right: 3%;\n  svg {\n    width: 100%;\n    cursor: pointer;\n  }\n`;\nconst Wrapper = styled.div`\n  pointer-events: ${props => props.clickable ? \"auto\" : \"none\"};\n  opacity: ${props => props.clickable ? \"1\" : \"0\"};\n  max-width: 440px;\n  width: 80%;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%)\n    ${props => props.clickable ? \"translateY(0%)\" : \"translateY(5%)\"};\n  font-weight: 100;\n  position: fixed;\n  transition: opacity 0.4s ease, transform 0.5s ease;\n  z-index: 14;\n  p {\n    color: ${props => props.theme.colors.foreground_low};\n    padding-bottom: 20px;\n  }\n  h4 {\n    color: ${props => props.theme.colors.accent};\n    font-size: 3rem;\n    font-weight: 300;\n    line-height: 110%;\n    margin-bottom: 5%;\n  }\n  label{\n    font-size:0;\n    height:0;\n    width:0;\n    position:absolute;\n  }\n  input {\n    font-weight: 100;\n    border-radius: 0;\n    width: 100%;\n    padding: 10px 18px 13px 18px;\n    line-height: 100%;\n    background-color: transparent;\n    border: ${props => props.theme.stroke} solid\n      ${props => props.theme.colors.foreground_lowest};\n    margin: 4px 0;\n    color: ${props => props.theme.colors.foreground};\n    -webkit-appearance: textfield;\n    appearance: textfield;\n    ::placeholder {\n      padding-top: 4px;\n    }\n  }\n  @media (max-width: 600px) {\n    max-width: calc(100% - 36px);\n    width: 100%;\n    margin-left: 18px;\n    margin-right: 18px;\n    z-index: 100;\n    left: 0;\n    transform: translateX(0px) translateY(-50%);\n    h4 {\n      font-size: 2.5rem;\n    }\n  }\n  @media (max-width: 380px) {\n    /* input {\n      padding-top: 14px;\n    } */\n  }\n`;","map":{"version":3,"sources":["/Users/rodrigosalmeron/Sites/deepfuture/components/NewsletterPopup.js"],"names":["styled","useState","useEffect","Cross","MailchimpSubscribe","disableBodyScroll","enableBodyScroll","url","isEmail","CustomForm","status","message","onValidated","displayMessage","setMessage","showMessage","setShowMessage","email","name","lastname","submit","value","test","EMAIL","FNAME","FLASTNAME","__html","node","NewsletterPopup","showPopup","setShowPopup","timer1","setTimeout","popupShow","clearTimeout","targetElement","document","querySelector","unlockScreen","subscribe","formData","Background","div","props","theme","colors","background","visible","Message","error","success","accent","Border","stroke","foreground","Button","button","CrossContainer","Wrapper","clickable","foreground_low","foreground_lowest"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Cross from \"public/assets/img/layout/cross.svg\";\nimport MailchimpSubscribe from \"react-mailchimp-subscribe\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\n\nconst url =\n  \"https://studio.us19.list-manage.com/subscribe/post?u=c9d7bbb792de4cdbe363fad75&amp;id=434dbf9f3b\";\nconst isEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nconst CustomForm = ({ status, message, onValidated }) => {\n  const [displayMessage, setMessage] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n  let email, name, lastname;\n\n  const submit = () => {\n    if (!name.value) {\n      setShowMessage(true), setMessage(\"Ingresa tu nombre\");\n    } else if (!lastname.value) {\n      setShowMessage(true), setMessage(\"Ingresa tu apellido\");\n    } else if (!email.value) {\n      setShowMessage(true), setMessage(\"Ingresa tu email\");\n    } else if (!isEmail.test(email.value)) {\n      setShowMessage(true), setMessage(\"Email en formato incorrecto\");\n    } else {\n      setShowMessage(false),\n        onValidated({\n          EMAIL: email.value,\n          FNAME: name.value,\n          FLASTNAME: lastname.value,\n        });\n    }\n  };\n  return (\n    <>\n      <h4>\n        suscríbete y<br />\n        te actualizamos\n      </h4>\n      <p>Recibe un correo cada vez que publiquemos un capítulo nuevo.</p>\n      {status === \"sending\" && <Message>Enviando...</Message>}\n      {status === \"error\" && (\n        <Message error dangerouslySetInnerHTML={{ __html: message }} />\n      )}\n      {showMessage ? (\n        <Message error dangerouslySetInnerHTML={{ __html: displayMessage }} />\n      ) : null}\n      {status === \"success\" && (\n        <Message success dangerouslySetInnerHTML={{ __html: message }} />\n      )}\n      {status !== \"success\" && (\n        <>\n          <input\n            ref={(node) => (name = node)}\n            type=\"text\"\n            placeholder=\"nombre\"\n            id=\"name\"\n          />\n          <label htmlFor=\"name\">nombre</label>\n          <input\n            ref={(node) => (lastname = node)}\n            type=\"text\"\n            placeholder=\"apellido\"\n            id=\"lastname\"\n          />\n          <label htmlFor=\"lastname\">last name</label>\n          <input\n            ref={(node) => (email = node)}\n            type=\"email\"\n            placeholder=\"email\"\n            id=\"email\"\n          />\n          <label htmlFor=\"email\">email</label>\n          <Button onClick={submit}>suscribirme</Button>\n        </>\n      )}\n    </>\n  );\n};\n\nconst NewsletterPopup = () => {\n  const [showPopup, setShowPopup] = useState(false);\n\n  useEffect(() => {\n    let timer1 = setTimeout(() => popupShow(), 10000);\n    return () => {\n      clearTimeout(timer1);\n    };\n  }, []);\n\n  const popupShow = () => {\n    // Disable scroll\n    const targetElement = document.querySelector(\"#NewsletterPopup\"); //dummy\n    disableBodyScroll(targetElement);\n    setShowPopup(true);\n  };\n\n  const unlockScreen = () => {\n    const targetElement = document.querySelector(\"#NewsletterPopup\"); //dummy\n    enableBodyScroll(targetElement);\n    setShowPopup(false);\n  };\n\n  return (\n    <>\n      <Wrapper clickable={showPopup} id=\"NewsletterPopup\">\n        <Border>\n          <MailchimpSubscribe\n            url={url}\n            render={({ subscribe, status, message }) => (\n              <CustomForm\n                status={status}\n                message={message}\n                onValidated={(formData) => subscribe(formData)}\n              />\n            )}\n          />\n          <CrossContainer>\n            <Cross onClick={unlockScreen} />\n          </CrossContainer>\n        </Border>\n      </Wrapper>\n      <Background visible={showPopup} onClick={unlockScreen} />\n    </>\n  );\n};\n\nexport default NewsletterPopup;\n\nconst Background = styled.div`\n  background-color: ${(props) => props.theme.colors.background};\n  opacity: ${(props) => (props.visible ? 0.6 : 0)};\n  position: fixed;\n  pointer-events: ${(props) => (props.visible ? \"auto\" : \"none\")};\n  left: 0;\n  bottom: 0;\n  right: 0;\n  top: 0;\n  z-index: 13;\n  transition: opacity 0.4s ease;\n`;\n\nconst Message = styled.div`\n  color: ${(props) =>\n    props.error\n      ? props.theme.colors.error\n      : props.success\n      ? props.theme.colors.success\n      : props.theme.colors.accent};\n  font-size: ${(props) => (props.success ? \"1.8rem\" : \"1.5rem\")};\n  padding-bottom: 5px;\n  @media (max-width: 600px), (max-height: 450px) {\n    font-size: 1.5rem;\n  }\n`;\n\nconst Border = styled.div`\n  border: ${(props) => props.theme.stroke} solid\n    ${(props) => props.theme.colors.foreground};\n  background-color: ${(props) => props.theme.colors.background};\n  padding: 10% 15% 14% 15%;\n  @media (max-width: 380px) {\n    padding: 10% 10% 14% 10%;\n  }\n`;\n\nconst Button = styled.button`\n  padding: 14px 0%;\n  margin-top: 5px;\n  text-align: center;\n  width: 100%;\n  background-color: ${(props) => props.theme.colors.accent};\n  color: ${(props) => props.theme.colors.foreground};\n  border: 0;\n  font-weight: 100;\n  font-size: 1.8rem;\n  cursor: pointer;\n  transition: 0.3s ease all;\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      background-color: #27ae60;\n      color: ${(props) => props.theme.colors.background};\n      span {\n        background-size: 0 0;\n      }\n    }\n  }\n`;\n\nconst CrossContainer = styled.div`\n  width: 50px;\n  height: 50px;\n  padding: 12px;\n  position: absolute;\n  top: 3%;\n  right: 3%;\n  svg {\n    width: 100%;\n    cursor: pointer;\n  }\n`;\n\nconst Wrapper = styled.div`\n  pointer-events: ${(props) => (props.clickable ? \"auto\" : \"none\")};\n  opacity: ${(props) => (props.clickable ? \"1\" : \"0\")};\n  max-width: 440px;\n  width: 80%;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%)\n    ${(props) => (props.clickable ? \"translateY(0%)\" : \"translateY(5%)\")};\n  font-weight: 100;\n  position: fixed;\n  transition: opacity 0.4s ease, transform 0.5s ease;\n  z-index: 14;\n  p {\n    color: ${(props) => props.theme.colors.foreground_low};\n    padding-bottom: 20px;\n  }\n  h4 {\n    color: ${(props) => props.theme.colors.accent};\n    font-size: 3rem;\n    font-weight: 300;\n    line-height: 110%;\n    margin-bottom: 5%;\n  }\n  label{\n    font-size:0;\n    height:0;\n    width:0;\n    position:absolute;\n  }\n  input {\n    font-weight: 100;\n    border-radius: 0;\n    width: 100%;\n    padding: 10px 18px 13px 18px;\n    line-height: 100%;\n    background-color: transparent;\n    border: ${(props) => props.theme.stroke} solid\n      ${(props) => props.theme.colors.foreground_lowest};\n    margin: 4px 0;\n    color: ${(props) => props.theme.colors.foreground};\n    -webkit-appearance: textfield;\n    appearance: textfield;\n    ::placeholder {\n      padding-top: 4px;\n    }\n  }\n  @media (max-width: 600px) {\n    max-width: calc(100% - 36px);\n    width: 100%;\n    margin-left: 18px;\n    margin-right: 18px;\n    z-index: 100;\n    left: 0;\n    transform: translateX(0px) translateY(-50%);\n    h4 {\n      font-size: 2.5rem;\n    }\n  }\n  @media (max-width: 380px) {\n    /* input {\n      padding-top: 14px;\n    } */\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}